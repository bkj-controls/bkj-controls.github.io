<!DOCTYPE html>
<html>

<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="styles.css">
	<link rel = "icon" href = "images/favicon.icon"  type = "image/x-icon">
	<title>BKJ Controls</title>
	<script src="bkjts.js"></script>
	<script>
		setInterval(function() {
			getConfig();
		}, 3000);

		//var getJSON = function(url, callback) {
		function getConfig() {
			console.log("invoking getConfig");
			var xhr = new XMLHttpRequest();
			xhr.open("GET", "requestStatus", true);
			xhr.onload = function() {
				if (this.readyState === XMLHttpRequest.DONE) {
					if (this.status === 200) {
						console.log("Fetching config.json");
						var resObj = JSON.parse(this.responseText);
						console.log(this.responseText);

						updateFields(resObj);

					} else {
						console.warn("XMLHttpRequest did not return 200 OK!!");

					}
				}
			};
			xhr.send();
		}



	</script>
</head>

<body onload="getConfig()">
	<div w3-include-html="header.html"></div>
	<div class="topnav">
		<a href="index.html">Home</a>
		<a href="products.html" class="active">Products</a>
		<a href="about.html">About</a>
		<a href="contact-us.html">Contact Us</a>

	</div>
	<div class="column">
		<form>
						<br>
			<br>
			<img src="images/Interceptor.png" width="50%" height="50%">
			
			<br>
			<br>
			<br>
			<br>
	</div>
	<div class="footer">
		<p>(C) 2020-2021 BKJ Controls.</p>
	</div>


	<script>
		includeHTML();
	</script>

</body>

</html>
